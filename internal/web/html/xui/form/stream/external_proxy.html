{{define "form/externalProxy"}}
<a-form :colon="false" :label-col="{ md: {span:8} }" :wrapper-col="{ md: {span:14} }">
    <a-divider style="margin:5px 0 0;"></a-divider>
    <a-form-item label="External Proxy">
        <a-switch v-model="externalProxy"></a-switch>
        <a-button @click="inbound.stream.externalProxy.push({forceTls: 'same', dest: '', port: 443, remark: ''})" icon="plus" size="small" style="margin-left: 10px" type="primary"
                  v-if="externalProxy"></a-button>
    </a-form-item>
    <a-input-group compact style="margin: 8px 0;" v-for="(row, index) in inbound.stream.externalProxy">
        <template>
            <a-tooltip title="Force TLS">
                <a-select :dropdown-class-name="themeSwitcher.currentTheme" style="width:20%; margin: 0px"
                          v-model="row.forceTls">
                    <a-select-option value="same">{{ i18n "pages.inbounds.same" }}</a-select-option>
                    <a-select-option value="none">{{ i18n "none" }}</a-select-option>
                    <a-select-option value="tls">TLS</a-select-option>
                </a-select>
            </a-tooltip>
        </template>
        <a-input placeholder='{{ i18n "host" }}' style="width: 35%" v-model.trim="row.dest"></a-input>
        <a-tooltip title='{{ i18n "pages.inbounds.port" }}'>
            <a-input-number max="65531" min="1" style="width: 15%;" v-model.number="row.port"></a-input-number>
        </a-tooltip>
        <a-input placeholder='{{ i18n "remark" }}' style="width: 30%; top: 0;" v-model.trim="row.remark">
            <template slot="addonAfter">
                <a-button @click="inbound.stream.externalProxy.splice(index, 1)" icon="minus" size="small"></a-button>
            </template>
        </a-input>
    </a-input-group>
</a-form>
{{end}}
